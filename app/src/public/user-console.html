<!--@author: Amey Parundekar-->
<!--USER CONSOLE PAGE-->
<html>
<head>
    <title>SHELF | Console</title>

<!--CSS-->
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<link rel="stylesheet" href="https://dysprosium60.hasura-app.io/css/index.css">
<link rel="stylesheet" href="https://dysprosium60.hasura-app.io/css/user-console.css">
<!--javascript-->
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
<script  type="text/javascript" src="https://dysprosium60.hasura-app.io/js/shared/sell.js"></script>
<script  type="text/javascript" src="https://dysprosium60.hasura-app.io/js/shared/user-console.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body ng-app="user-console-app">
    <div id="load">
    </div>
        <span id = "contents" ng-controller="userConsole">
        <i class="material-icons" style="color: #424242; float: left; font-size: 64px; padding-top: 29px; padding-left: 30px;">book</i>
        <p id="index-header"> SHELF
        <div id="logout">Log Out</div>
        </p> for <span id="university">{{info.college}}</span>
        <br>
        <div class="input-field" id="search-tab">
                <input type="text" id="search-box" class="autocomplete book-query" placeholder="Search">
        </div>

            <table id="tabs">
                <tr id="orders-tab"><td><i class="material-icons tooltipped" style="font-size:32px" data-position="right" data-delay="10" data-tooltip="Explore">public</i></td></tr>
                <tr id="primary-info-tab"><td><i class="material-icons tooltipped" style="font-size:32px" data-position="right" data-delay="10" data-tooltip="Profile">person_outline</i></td></tr>
                <tr id="sell-tab"><td><i class="material-icons tooltipped" style="font-size:32px" data-position="right" data-delay="10" data-tooltip="Sell">note_add</i></td></tr>
            </table>
            <div id="primary-info">
                <div id="primary-info-top">
                <p><h5 style="font-weight: bold">Personal Information</h5></p>
                <p> Name:<span class="p-menu">{{info.name}}</span></p>
                <p> Email:<span class="p-menu">{{info.email}}</span></p>
                <p id="contact"> Contact:<span class="p-menu" id="contactinfo">{{info.mobile}}</span>  <i class="material-icons" id="edit-contact">edit</i></p>
                <p id="contact-edit"></p>
                <p><h5 style="font-weight: bold">Academic Information</h5></p>
                <p>College:<span class="p-menu">{{info.college}}</span></p>
                <p>Stream:<span class="p-menu">{{info.stream}}</span></p>
                <p>Year:<span class="p-menu">{{info.year}}</span><br></p>
                </div><br><hr>
                <div id="primary-info-bottom" ng-controller="getUploaded">
                    <h5>Your Books</h5>
                    <div id="no-books">You uploaded no books! Go to the sell section to upload one!</div>
                    <table id="orders-table">
                        <tr id="upload-header">
                            <th>Name</th>
                            <th>Date Uploaded</th>
                            <th colspan="2">Actions</th>
                        </tr>

                        <tr ng-repeat="upload in uploads">
                            <td>{{upload.name}}</td>
                            <td>{{upload.time|date:'longDate'}}</td>
                            <td class="book-action" id={{upload.id}}>
                                <div class="available">{{upload.available}}</div>
                                <div class="remove-book">{{custom.remove}}</div>
                                <div class="add-removed-book">{{custom.add}}</div>
                            </td>
                            <td class="edit-book">{{custom.edit}}</td>
                        </tr>
                    </table>
                    <div id="book-edit-modal" class="modal">
                    <div class="modal-content">
                        <h3>Edit Book</h3>
                        <div id="left-sell">
                        <div class="input-field book-input">
                        <input id="book-name-edit" type="text" class="validate" placeholder="Book">
                        </div>
                        <div class="input-field book-input">
                        <input id="author-edit" type="text" class="validate" placeholder="Author">
                        </div>
                        <div class="input-field book-input">
                        <input id="publisher-edit" type="text" class="validate" placeholder="Publisher">
                        </div>
                        <div class="input-field book-input2">
                        <input id="price-edit" type="number" class="validate" placeholder="Price">
                        </div>
                        <div class="input-field book-input2">
                        <input id="year-edit" type="number" class="validate" placeholder="Year">
                        </div><br>
                        <div class="input-field book-input">
                        <textarea id="memo-edit" class="materialize-textarea" maxlength="210" data-length="210" placeholder="Memo"></textarea>
                        </div>
                        </div>
                    </div>
                    <div id="edit-book-btn" style="bottom:0;float:right"><button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" id="edit-book" style="background:blue">EDIT BOOK</button></div>
                </div>
                </div>
            </div>

            <div id="sell" autocomplete="off">
                <div id="left-sell" style="float:left">
                    <div class="input-field book-input">
                    <input id="book-name" type="text" class="validate">
                    <label for="book-name">Book</label>
                    </div>
                    <div class="input-field book-input">
                    <input id="author" type="text" class="validate">
                    <label for="author">Author</label>
                    </div>
                    <div class="input-field book-input">
                    <input id="publisher" type="text" class="validate">
                    <label for="publisher">Publisher</label>
                    </div>
                    <div class="input-field book-input2">
                    <input id="price" type="number" class="validate">
                    <label for="price">Price</label>
                    </div>
                    <div class="input-field book-input2">
                    <input id="year" type="number" class="validate">
                    <label for="year">Year</label>
                    </div><br>
                    Condition: <br>
                    <span class="range-field book-input2">
                    <input type="range" id="condition" min="0" max="5"/>
                    </span>
                </div>
                <div id="right-cell" style="float:right">
                    <div class="input-field book-input">
                        <input type="text" id="stream" class="autocomplete select-stream">
                        <label for="autocomplete-input">Stream</label>
                    </div>
                    <div class="input-field book-input">
                        <textarea id="memo" class="materialize-textarea" data-length="210"></textarea>
                        <label for="memo">Memo</label>
                    </div><br>

                    <div id="photos">

                    <label for="file-upload-1" class="custom-file-upload">
                        <i class="fa fa-cloud-upload"></i>
                        Front Cover
                    </label>
                    <input id="file-upload-1" type="file" accept="image/*"/>

                    <label for="file-upload-2" class="custom-file-upload">
                        <i class="fa fa-cloud-upload"></i>
                        Back Cover
                    </label>
                    <input id="file-upload-2" type="file" accept="image/*"/>
                    <br>
                    <img id="output1" width = "150px" height="150px"/>
                    <img id="output2" width = "150px" height="150px"/><br><br>
                    <button id="photos-validation-button">
                    Validate Photos
                    </button>

                    <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent signin-button" id="post-book">
                    +
                    </button>
                </div>
            </div>
            </div>
            <div id="orders" ng-controller="getBooks">
                <div id="no-books-explore">No one uploaded books from your college yet! :(</div>
                <div class="card medium book" ng-repeat="book in books">
                    <div class="card-image">
                        <div class="photo_id">{{book.photo_id}}</div>
                        <div class="photo"></div>
                    </div>

                    <div class="card-content">
                        <div><span class="book-title">{{book.name}}</span><br>
                        By {{book.author}}<br></div><br>
                        <div class="book-date">Uploaded on {{book.time|date:'longDate'}}</div>
                    </div>

                    <div class="card-action">
                        <div class="price">{{book.price | currency:"₹":0}}</div>
                        <div class="book-condition">{{book.condition}}</div><br>
                    </div>
                    <div class="bookId">{{book.id}}</div>
                </div>
        </div>
        <div id="search-books" ng-controller="searchBook">
            <div id="no-books-search">No such book found in your university! :(</div>
            <div class="card medium book searchbook" ng-repeat="book in books">
                    <div class="card-image">
                        <div class="photo_id">{{book.photo_id}}</div>
                        <div class="photo"></div>
                    </div>

                    <div class="card-content">
                        <div><span class="book-title">{{book.name}}</span><br>
                        By {{book.author}}<br></div><br>
                        <div class="book-date">Uploaded on {{book.time|date:'longDate'}}</div>
                    </div>

                    <div class="card-action">
                        <div class="price">{{book.price | currency:"₹":0}}</div>
                        <div class="book-condition">{{book.condition}}</div><br>
                    </div>
                    <div class="bookId">{{book.id}}</div>
                </div>
        </div>
        <div id="book-modal" class="modal">
            <div class="modal-content">
             <div id="book-photos-modal">
                <img id="book-photo1-modal" height="250" width="220">
                <img id="book-photo2-modal" height="250" width="220">
            </div>
            <span style="color: green; font-weight: bold">Book Information:</span>
            <div id="book-title-modal"></div>
            <div id="book-author-modal"></div>
            <div id="book-publisher-modal"></div>
            <div id="book-year-modal"></div>
            <div id="book-condition-modal"></div>
            <br><br>
           <span style="color: green; font-weight: bold"> Uploader Information: </span>
            <div id="book-user-modal"></div>
            <div id="book-contact-modal"></div>
            <div id="book-stream-modal"></div>
            <div id="cost"></div>
            </div>
            <div class="modal-footer">
            <div id="book-memo-modal" style="float:left"></div>
            <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">CLOSE</a>
            </div>
        </div>
    <div id="footer-user"><p id="footer-index-text">Made with <i class="fa fa-heart" aria-hidden="true" style="color:red"></i> in India.<br>
    Powered by <a href="https://www.hasura.io">Hasura</a>.</p>
    <div id="img1-base64"></div>
    <div id="img2-base64"></div>
    <div id="img3-base64"></div>
    </div>
    <!-- Module -->
    <script src="https://dysprosium60.hasura-app.io/js/app.js"></script>

    <!-- Controller -->
    <script src="https://dysprosium60.hasura-app.io/js/controllers/userConsole.js"></script>
    <script src="https://dysprosium60.hasura-app.io/js/controllers/getBooks.js"></script>
    <script src="https://dysprosium60.hasura-app.io/js/controllers/searchController.js"></script>
    <script src="https://dysprosium60.hasura-app.io/js/controllers/getUploaded.js"></script>
</body>
</html>
